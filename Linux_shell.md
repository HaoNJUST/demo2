# Linux shell

一个控制台就是一个bash;

一行内容输入两个命令，用；隔开就行；

查看当前所有的shell解释器

```bash
cat /etc/shells
```

查看系统默认解释器

```
echo $SHELL
```

脚本格式

```
#!/bin/bash 第一行，指定解释器
```

编完脚本之后，脚本没有执行权限的执行方式

```
bash ./hello.sh（在当前文件目录，或者主目录都可以；也可以使用绝对路径）
```

赋予脚本执行权限，再执行

```
chmod +x ./hello.sh
./hello.sh
或者
. hello.sh， 是有个空格的
```



### 变量

分类：两种方式

* 全局变量和局部变量
* 系统变量和用户变量
* 局部变量：只对子shell内部有效；
* 系统变量:都是$加大写字母
* 系统变量基本都是全局变量

**常用命令**

* 查看当前所有的全局环境变量

* ```
  env
  使用less查看器看：env | less
  ```

* 查看所有变量:系统自定义的和用户定义的都有

* ```
  set
  set | less
  ```

* 查看指定的变量

* ```
  set | grep my_var 
  ```

**父子shell之间的关系**

* bash里面输入一个bash，可以进入子bash，此时输入exit退出的只是子shell，而不是外面的父shell;
* 子shell里面修改变量的值，父shell这个值不会更改
* ...还有许多关系，尚硅谷的这部分有机会再看

```
$HOME, $USER
查看指定的系统变量内容：
echo $HOME
查看所有环境变量
env | less
要退出 "less" 查看器，您可以按 "q" 键。这将关闭 "less" 并返回到命令行提示符。
$+变量名，就可以随时随地使用这个变量，就相当于用他的值
```

**自定义变量**

* 变量名+等于号+变量值

* a=2(赋值时不能加空格)

* ```
  a=2
  echo $a
  my_var='hello, world'
  ```

**运算符**

* ```
  a=1+2 # echo $a 的值是1+2,当作了字符串
  ```

* $ + 双小括号或者中括号，里面是表达式

* ```
  a=$((6+8))
  或者
  a=$[6+8]
  ```

* 实现一个加法脚本

* ```
  #! /bin/bash
  sum=$[$1 + $2]
  echo sum=$sum
  
  赋予可执行权限：
  chmod +x ./add.sh
  调用：
  ./add.sh 13 12
  ```

* 对于一些有空格的地方如何理解？就是参数，把空格隔开的内容就看作是参数

* linux中0为真，1为假

* 判断字符串

* ```
  a=hello
  # 注意必须中括号必须有空格，变量一定记得加$符号
  [ $a = Hello ]
  # 打印出上面表达式返回的结果
  echo $?
  # 结果应该是0，表示为真
  
  # 判断是否不等于1
  [ $a != Hello]
  # 这下不用来回切换输入法了
  # 
  ```

  

